# Satellite Imitation

Этот репозиторий содержит простую имитационную модель сети связи. 
Все параметры симуляции описываются во внешнем JSON-файле.

## Конфигурационный файл

Пример файла находится в `config.json`. В нём задаются:

- **nodes** – список узлов сети. Каждый узел описывается полями:
  - `id` – целочисленный идентификатор;
  - `lat`, `lon` – географические координаты в градусах;
  - `alt` – высота в километрах.
    Поле `alt` является обязательным, поскольку моделируются спутниковые сети.
- **channels** – параметры каналов между узлами. Для каждого канала указываются
  `src` и `dst` (идентификаторы узлов), а также при необходимости
  `extra_delay_ms`, `loss_prob`, `call_loss_prob`, `rate_pps`, `queue_limit`.
- **packet_generators** – список генераторов трафика. Каждый элемент содержит
  `src`, `dst` и `rate_pps` – интенсивность генерации пакетов в секунду.
- **call_generators** – генераторы попыток вызова между узлами с полями `src`,
  `dst` и `rate_cps` (частота вызовов в секунду).
- **end_time_ms** – продолжительность моделирования в миллисекундах.
- **metrics_file** – путь к выходному CSV‑файлу с метриками.
- **bin_ms** – (необязательный) размер окна для мониторингового режима.

При необходимости можно добавлять любое количество узлов и каналов, что
позволяет моделировать сеть из множества обслуживающих устройств.

## Запуск

Запуск симулятора теперь выполняется через единый файл `main.py`.
Обычный режим:

```bash
python main.py --config config.json
```

Режим с визуализацией и поминутной статистикой:

```bash
python main.py --config config.json --monitor
```

В режиме мониторинга после запуска откроется окно с визуализацией
топологии и кнопкой `Запустить имитацию`. Нажатие на кнопку выполняет
моделирование и выводит графики метрик. Результаты также сохраняются в
указанный в конфигурации файл.
